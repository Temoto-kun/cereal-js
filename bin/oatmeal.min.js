!function(t,r,e){return"function"==typeof define&&define.amd?void define(["moment"],function(n){return t[r]=e(n)}):"object"==typeof module&&module.exports?void(module.exports=t[r]=e(require("moment"))):void(t[r]=e(t.moment))}(this,"Oatmeal",function(t){function r(t){return!isNaN(t)}function e(t){return null===t?null:parseInt(t)}function n(t){return null===t?null:parseFloat(t)}function a(t){return"string"==typeof t||null===t}function i(t){return t.toString()}function o(r,e){return arguments.length<2?!isNaN(t(r).toDate()):!isNaN(t(r,e._format).toDate())}function u(r,e){return arguments.length<2?t(r).toDate():t(r,e._format).toDate()}function l(r){return t(new Date(r)).toDate()}function f(r,e){return arguments.length<2?t(r).format("YYYY-MM-DD"):t(r).format(e._format)}function c(t){return"string"==typeof t&&(t.trim().length<1||0===t.search(/(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n)?[ \t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ \t])*)|(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n)?[ \t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ \t])*)(?:,\s*(?:(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\<(?:(?:\r\n)?[ \t])*(?:@(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()<>@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()<>@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\>(?:(?:\r\n)?[ \t])*))*)?;\s*)/i))}function d(t){for(var r,e,n,a,i,o,u=[{source:t,target:Object.create(Object.getPrototypeOf(t))}],l=u[0].target,f=[t],c=[l];a=u.shift();)for(n=Object.getOwnPropertyNames(a.source),r=0;r<n.length;r++)e=Object.getOwnPropertyDescriptor(a.source,n[r]),e.value&&"object"==typeof e.value?(i=e.value,e.value=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),o=f.indexOf(i),o===-1?(f.push(i),c.push(e.value),Object.defineProperty(a.target,n[r],e),u.push({source:i,target:e.value})):(e.value=c[o],Object.defineProperty(a.target,n[r],e))):Object.defineProperty(a.target,n[r],e);return l}function s(t,r){t[z+"type"]=r}function p(t){delete t[z+"type"]}var y={},b={},m={},Z={},h={},g={},v={},w="@",z="@@";return y.instantiateValue=function(t,r){return"string"==typeof r?"function"==typeof b[r]?new b[r](t):t:{}},y.setTypeDefaultValue=function(t,r){m[t]=r},y.setConstructor=function(t,r){if("function"!=typeof r)throw new Error('Unknown constructor function for type "'+t+'"');b[t]=r},y.addTypeSerializer=function(t,r){if(Z[t]=Z[t]||[],"function"!=typeof r)throw new Error('Unknown serialize function for type "'+t+'"');Z[t].push(r)},y.addTypeDeserializer=function(t,r){if(h[t]=h[t]||[],"function"!=typeof r)throw new Error('Unknown deserialize function for type "'+t+'"');h[t].push(r)},y.addTypeSerializerValidator=function(t,r){if(g[t]=g[t]||[],"function"!=typeof r)throw new Error('Unknown serializer validate function for type "'+t+'"');g[t].push(r)},y.addTypeDeserializerValidator=function(t,r){if(v[t]=v[t]||[],"function"!=typeof r)throw new Error('Unknown deserializer validate function for type "'+t+'"');v[t].push(r)},y.serialize=function(t,r){function e(t,r,e){var n=r.attributes[e]._type;return!(g[n]instanceof Array)||(g[n].reduce(function(a,i){if("function"!=typeof i)throw new Error('Invalid validator function for type "'+n+'".');return a&&i(t,r.attributes[e])},!0)||null===t)}function n(t,r,e){var n=r.attributes[e]._type;return t=y.instantiateValue(t,n),Z[n]instanceof Array?(Z[n].forEach(function(a){if("function"!=typeof a)throw new Error('Invalid serializer function for type "'+n+'".');t=a(t,r.attributes[e])}),t):t}function a(t,r,a){var i,o,u,l;return i=a.attributes[r]._nullable!==!1,o=a.attributes[r]._default,l=a.attributes[r]._get,u="function"==typeof l?l.call(t):t[r],e(o,a,r)&&null!==o||(o=i?null:m[a.attributes[r]._type]),e(u,a,r)&&null!==u?n(u,a,r):i?null:o}function i(t,r,e){var n=null;return f.forEach(function(t,r){var a=f[f.length-1-r];null===n&&a.model.name===e&&(n=a.data)}),t[r]=n}function o(t){var r="object"==typeof t?p[t.name]=t:p[t];if(!r)throw new Error('Model not yet defined: "'+t+'"');return r}function u(t,r){c[r.name]=c[r.name]||{},c[r.name][t.id]=t}function l(t,r){return null===t||"undefined"==typeof t?null:("string"==typeof r&&(r={name:r}),f.push({data:t,model:r}),r=o(r),u(t,r),s(t,r.name),r.attributes?(Object.keys(r.attributes).forEach(function(e){var n=e;switch(r.attributes[e]._nullable=r.attributes[e]._nullable!==!1,"function"==typeof r.attributes[e]._get&&(n=w+n),r.attributes[e]._type){case"array-collection":t[n].forEach(function(a,i){t[n][i]=l(a,r.attributes[e]._model)});break;case"object":t[n]=l(t[e],r.attributes[e]._model);break;case"parent":t[n]=i(t,e,r.attributes[e]._model);break;default:t[n]=a(t,e,r)}}),f.pop(),t):(f.pop(),t))}var f=[],c={},p={};return t=d(t),l(t,r)},y.deserialize=function(t,r){function e(t,r,e){var n=r.attributes[e]._type;return!(g[n]instanceof Array)||(g[n].reduce(function(a,i){if("function"!=typeof i)throw new Error('Invalid validator function for type "'+n+'".');return a&&i(t,r.attributes[e])},!0)||null===t)}function n(t,r,e){var n=r.attributes[e]._type;return h[n]instanceof Array?(h[n].forEach(function(a){if("function"!=typeof a)throw new Error('Invalid deserializer function for type "'+n+'".');t=a(t,r.attributes[e])}),p(t),t):t}function a(t,r,a){var i,o,u,l;return i=a.attributes[r]._nullable!==!1,o=a.attributes[r]._default,l=a.attributes[r]._get,u="function"==typeof l?l.call(t):t[r],e(o,a,r)&&null!==o||(o=i?null:m[a.attributes[r]._type]),e(u,a,r)&&null!==u?n(u,a,r):i?null:o}function i(t,r){return t[r]={id:t[r].id}}function o(t,r){return null===t||"undefined"==typeof t?null:(p(t),r.attributes?(Object.keys(t).sort().forEach(function(e){var n=e;if(r.attributes[e])switch("function"==typeof r.attributes[e]._get&&(n=w+n),r.attributes[e]._type){case"array-collection":t[n].forEach(function(a,i){t[n][i]=o(a,r.attributes[e]._model)});break;case"object":t[n]=o(t[e],r.attributes[e]._model);break;case"parent":t[n]=i(t,e);break;default:t[n]=a(t,e,r)}}),t):t)}return t=d(t),o(t,r)},y.setTypeDefaultValue("integer",0),y.addTypeSerializerValidator("integer",r),y.addTypeSerializer("integer",e),y.addTypeDeserializerValidator("integer",r),y.addTypeDeserializer("integer",e),y.setTypeDefaultValue("float",0),y.addTypeSerializerValidator("float",r),y.addTypeSerializer("float",n),y.addTypeDeserializerValidator("float",r),y.addTypeDeserializer("float",n),y.setTypeDefaultValue("string",""),y.addTypeSerializerValidator("string",a),y.addTypeSerializer("string",i),y.addTypeDeserializerValidator("string",a),y.setTypeDefaultValue("datetime",new Date(0)),y.addTypeSerializer("datetime",u),y.addTypeSerializerValidator("datetime",o),y.addTypeDeserializerValidator("datetime",o),y.addTypeDeserializer("datetime",f),y.setConstructor("datetime",l),y.setTypeDefaultValue("email",""),y.addTypeSerializer("email",i),y.addTypeSerializerValidator("email",c),y.addTypeDeserializer("email",i),y.addTypeDeserializerValidator("email",c),y});